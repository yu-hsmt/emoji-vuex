{"ast":null,"code":"import _toConsumableArray from \"/Users/yu/vue-vuex-emoji-search_practice/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _regeneratorRuntime from \"/Users/yu/vue-vuex-emoji-search_practice/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yu/vue-vuex-emoji-search_practice/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nvar API_URL = 'https://raw.githubusercontent.com/github/gemoji/master/db/emoji.json'; //このURLを「API_URL」とする\nvar requestEmojis = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return fetch(API_URL);\n        case 2:\n          return _context.abrupt(\"return\", _context.sent);\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function requestEmojis() {\n    return _ref.apply(this, arguments);\n  };\n}(); //API_URLからデータを取得したものを「requestEmojis」とする\n\nexport default {\n  state: {\n    originalEmojis: [],\n    //「originalEmojis」の入れ物を用意\n    showEmojis: [] //「showEmojis」の入れ物を用意\n  },\n  mutations: {\n    setEmojis: function setEmojis(state, emojis) {\n      //以下を「setEmojis」とする\n      state.showEmojis = emojis; //emojisをstateのshowEmojisに流す\n      state.originalEmojis = emojis; //emojisをstateのoriginalEmojisに流す\n    },\n    setOriginalEmoji: function setOriginalEmoji(state, search) {\n      //以下を「setOriginalEmojis」とする\n      var filtered = search.length > 1 //「search」が2文字以上の場合、次の行を「filtered」とする\n      ? state.originalEmojis.filter(function (emoji) {\n        return emoji.aliases[0].includes(search);\n      }) //各絵文字のaliases（API内のデータ）にsearchが含まれているものをフィルタリングする\n      : _toConsumableArray(state.originalEmojis); //「search」が1文字以下の場合、originalEmojisをそのまま「filtered」とする\n      state.showEmojis = filtered; //filteredをstateのshowEmojisに流す\n    }\n  },\n  actions: {\n    fetchEmojis: function fetchEmojis(_ref2) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var commit, res, emojis;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              commit = _ref2.commit;\n              _context2.next = 3;\n              return requestEmojis();\n            case 3:\n              res = _context2.sent;\n              _context2.next = 6;\n              return res.json();\n            case 6:\n              emojis = _context2.sent;\n              //resをJSON形式にしたものを「emojis」とする\n              commit('setEmojis', emojis); //「setEmojis」にemojis（JSON形式データ）をコミット\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    },\n    filterEmojis: function filterEmojis(_ref3, search) {\n      var commit = _ref3.commit;\n      //以下を「filterEmojis」としてmutationsにコミット　？？？searchはどこから出てきた？\n      commit('setOriginalEmoji', search); //「setOriginalEmoji」にsearchをコミット\n    }\n  },\n  getters: {\n    originalEmojis: function originalEmojis(state) {\n      return state.originalEmojis;\n    },\n    //stateのoriginalEmojisを「originalEmojis」として呼び出せるようにする\n    showEmojis: function showEmojis(state) {\n      return state.showEmojis;\n    } //stateのshowEmojisを「showEmojis」として呼び出せるようにする\n  }\n};","map":{"version":3,"names":["API_URL","requestEmojis","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetch","abrupt","sent","stop","apply","arguments","state","originalEmojis","showEmojis","mutations","setEmojis","emojis","setOriginalEmoji","search","filtered","length","filter","emoji","aliases","includes","_toConsumableArray","actions","fetchEmojis","_ref2","_callee2","commit","res","_callee2$","_context2","json","filterEmojis","_ref3","getters"],"sources":["/Users/yu/vue-vuex-emoji-search_practice/src/store/emojis/index.js"],"sourcesContent":["const API_URL = 'https://raw.githubusercontent.com/github/gemoji/master/db/emoji.json' //このURLを「API_URL」とする\nconst requestEmojis = async () => await fetch(API_URL) //API_URLからデータを取得したものを「requestEmojis」とする\n\nexport default {\n    state: {\n        originalEmojis: [], //「originalEmojis」の入れ物を用意\n        showEmojis: [], //「showEmojis」の入れ物を用意\n    },\n    mutations: {\n        setEmojis(state, emojis) { //以下を「setEmojis」とする\n            state.showEmojis = emojis //emojisをstateのshowEmojisに流す\n            state.originalEmojis = emojis //emojisをstateのoriginalEmojisに流す\n        },\n        setOriginalEmoji(state, search) { //以下を「setOriginalEmojis」とする\n            const filtered = search.length > 1 //「search」が2文字以上の場合、次の行を「filtered」とする\n            ? state.originalEmojis.filter((emoji) => emoji.aliases[0].includes(search)) //各絵文字のaliases（API内のデータ）にsearchが含まれているものをフィルタリングする\n            : [...state.originalEmojis] //「search」が1文字以下の場合、originalEmojisをそのまま「filtered」とする\n        state.showEmojis = filtered //filteredをstateのshowEmojisに流す\n        }\n    },\n    actions: {\n        async fetchEmojis({ commit }) { //以下を「fetchEmojis」としてmutationsにコミット\n            const res = await requestEmojis() //「requesrEmojis」を「res」に格納\n            const emojis = await res.json() //resをJSON形式にしたものを「emojis」とする\n            commit('setEmojis', emojis) //「setEmojis」にemojis（JSON形式データ）をコミット\n        },\n        filterEmojis({ commit }, search) { //以下を「filterEmojis」としてmutationsにコミット　？？？searchはどこから出てきた？\n            commit('setOriginalEmoji', search) //「setOriginalEmoji」にsearchをコミット\n        }\n    },\n    getters: {\n        originalEmojis: (state) => state.originalEmojis, //stateのoriginalEmojisを「originalEmojis」として呼び出せるようにする\n        showEmojis: (state) => state.showEmojis, //stateのshowEmojisを「showEmojis」として呼び出せるようにする\n    },\n}"],"mappings":";;;;;;;AAAA,IAAMA,OAAO,GAAG,sEAAsE,EAAC;AACvF,IAAMC,aAAa;EAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA;IAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAE,IAAA;UAAA,OAAkBC,KAAK,CAACZ,OAAO,CAAC;QAAA;UAAA,OAAAS,QAAA,CAAAI,MAAA,WAAAJ,QAAA,CAAAK,IAAA;QAAA;QAAA;UAAA,OAAAL,QAAA,CAAAM,IAAA;MAAA;IAAA,GAAAT,OAAA;EAAA;EAAA,gBAAhDL,aAAaA,CAAA;IAAA,OAAAC,IAAA,CAAAc,KAAA,OAAAC,SAAA;EAAA;AAAA,GAAmC,EAAC;;AAEvD,eAAe;EACXC,KAAK,EAAE;IACHC,cAAc,EAAE,EAAE;IAAE;IACpBC,UAAU,EAAE,EAAE,CAAE;EACpB,CAAC;EACDC,SAAS,EAAE;IACPC,SAAS,WAAAA,UAACJ,KAAK,EAAEK,MAAM,EAAE;MAAE;MACvBL,KAAK,CAACE,UAAU,GAAGG,MAAM,EAAC;MAC1BL,KAAK,CAACC,cAAc,GAAGI,MAAM,EAAC;IAClC,CAAC;IACDC,gBAAgB,WAAAA,iBAACN,KAAK,EAAEO,MAAM,EAAE;MAAE;MAC9B,IAAMC,QAAQ,GAAGD,MAAM,CAACE,MAAM,GAAG,CAAC,CAAC;MAAA,EACjCT,KAAK,CAACC,cAAc,CAACS,MAAM,CAAC,UAACC,KAAK;QAAA,OAAKA,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,QAAQ,CAACN,MAAM,CAAC;MAAA,EAAC,CAAC;MAAA,EAAAO,kBAAA,CACtEd,KAAK,CAACC,cAAc,CAAC,EAAC;MAChCD,KAAK,CAACE,UAAU,GAAGM,QAAQ,EAAC;IAC5B;EACJ,CAAC;EACDO,OAAO,EAAE;IACCC,WAAW,WAAAA,YAAAC,KAAA,EAAa;MAAA,OAAAhC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAA+B,SAAA;QAAA,IAAAC,MAAA,EAAAC,GAAA,EAAAf,MAAA;QAAA,OAAAnB,mBAAA,GAAAG,IAAA,UAAAgC,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAA9B,IAAA,GAAA8B,SAAA,CAAA7B,IAAA;YAAA;cAAV0B,MAAM,GAAAF,KAAA,CAANE,MAAM;cAAAG,SAAA,CAAA7B,IAAA;cAAA,OACJV,aAAa,CAAC,CAAC;YAAA;cAA3BqC,GAAG,GAAAE,SAAA,CAAA1B,IAAA;cAAA0B,SAAA,CAAA7B,IAAA;cAAA,OACY2B,GAAG,CAACG,IAAI,CAAC,CAAC;YAAA;cAAzBlB,MAAM,GAAAiB,SAAA,CAAA1B,IAAA;cAAoB;cAChCuB,MAAM,CAAC,WAAW,EAAEd,MAAM,CAAC,EAAC;YAAA;YAAA;cAAA,OAAAiB,SAAA,CAAAzB,IAAA;UAAA;QAAA,GAAAqB,QAAA;MAAA;IAChC,CAAC;IACDM,YAAY,WAAAA,aAAAC,KAAA,EAAalB,MAAM,EAAE;MAAA,IAAlBY,MAAM,GAAAM,KAAA,CAANN,MAAM;MAAc;MAC/BA,MAAM,CAAC,kBAAkB,EAAEZ,MAAM,CAAC,EAAC;IACvC;EACJ,CAAC;EACDmB,OAAO,EAAE;IACLzB,cAAc,EAAE,SAAAA,eAACD,KAAK;MAAA,OAAKA,KAAK,CAACC,cAAc;IAAA;IAAE;IACjDC,UAAU,EAAE,SAAAA,WAACF,KAAK;MAAA,OAAKA,KAAK,CAACE,UAAU;IAAA,EAAE;EAC7C;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}